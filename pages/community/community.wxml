<!--pages/community/community.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨Tab -->
  <view class="tabs">
    <view class="tab-item {{currentTab === 'recommend' ? 'active' : ''}}" bindtap="switchTab" data-tab="recommend">
      æ¨è
    </view>
    <view class="tab-item {{currentTab === 'latest' ? 'active' : ''}}" bindtap="switchTab" data-tab="latest">
      æœ€æ–°
    </view>
    <view class="tab-item {{currentTab === 'hot' ? 'active' : ''}}" bindtap="switchTab" data-tab="hot">
      çƒ­é—¨
    </view>
  </view>

  <!-- å‘å¸–æŒ‰é’® -->
  <view class="fab" bindtap="createPost">
    <text class="fab-icon">+</text>
  </view>

  <!-- å¸–å­åˆ—è¡¨ -->
  <view class="post-list" wx:if="{{posts.length > 0}}">
    <view class="post-card" wx:for="{{posts}}" wx:key="id" bindtap="viewPost" data-id="{{item.id}}">
      <!-- ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ¿åï¼‰-->
      <view class="post-header">
        <view class="user-info">
          <text class="user-avatar">{{item.avatar}}</text>
          <view class="user-detail">
            <text class="user-name">{{item.userName}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
        </view>
        <text class="post-tag tag-{{item.type}}">{{item.typeName}}</text>
      </view>

      <!-- å¸–å­å†…å®¹ -->
      <view class="post-content">
        <text class="post-title" wx:if="{{item.title}}">{{item.title}}</text>
        <text class="post-text">{{item.content}}</text>
      </view>

      <!-- äº’åŠ¨æ•°æ® -->
      <view class="post-stats">
        <view class="stat-item">
          <text class="stat-icon">ğŸ’¬</text>
          <text class="stat-text">{{item.commentCount}}</text>
        </view>
        <view class="stat-item">
          <text class="stat-icon">â¤ï¸</text>
          <text class="stat-text">{{item.likeCount}}</text>
        </view>
        <view class="stat-item" bindtap="sharePost" data-id="{{item.id}}" data-stop-propagation>
          <text class="stat-icon">ğŸ“¤</text>
          <text class="stat-text">åˆ†äº«</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{posts.length === 0}}">
    <text class="empty-icon">ğŸŒ³</text>
    <text class="empty-text">æ ‘æ´è¿˜ç©ºç€å‘¢</text>
    <text class="empty-hint">å¿«æ¥åˆ†äº«ä½ çš„æ•…äº‹å§</text>
  </view>
</view>
